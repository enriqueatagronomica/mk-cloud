<!-- Required files and Information -->
<!-- Sample Code is my case is Located D:\Axis2Client folder-->
<!-- Repository which contains Modules/Services are Located D:\Axis2Client\Repository  folder-->
<!-- Axis2 Properties file is Located in D:\Axis2Client\axis2-client.xml  folder, This file includes path to "passwordCallbackClass"  and also defines UserName for authentication-->
<!-- File for authentaication is stored in Classpath with Name  D:\Axis2Client\src\props.xml -->
<!--Content in props.xml file -->
<!-- <properties version="1.0">
    <entry key="repositoryFolder">D:\\Axis2Client\\repository</entry>
    <entry key="axis2File">D:\\Axis2Client\\axis2-client.xml</entry>
    <entry key="password">welcome@3</entry>
    <entry key="username">developer1</entry>
</properties>    -->

<project basedir="." default="jar.client">
    <property name="baseDir"  value="."/>
    <property name="build"    value="${baseDir}/build"/>
    <property name="classes"  value="${build}/classes"/>
    <property name="lib"      value="${build}/lib"/>
    <property name="src"      value="${baseDir}/src"/>
    
    <!-- Axis2 Libraries, Includes Rampart and other required files -->
    <property name="axis2.lib.dir" value="${baseDir}/lib"/>
    
    <path id="axis2.classpath">
        <fileset dir="${axis2.lib.dir}">
            <include name="**/*.jar"/>
        </fileset>
    </path>

    <path id="axis2.client.classpath">    <!-- Reference to files generated by Axis2 codegen-->
        <fileset dir="${classes}">
            <include name="**/*.jar"/>
        </fileset>
    </path>

    <target name="clean">
        <delete dir="${build}"/>
    </target>

    <target name="prepare" depends="clean">
        <mkdir dir="${build}"/>
        <mkdir dir="${classes}"/>
        <mkdir dir="${lib}"/>
    </target>

    <!-- Generate Axis2 Stubs using WSDL file. Binding is XMLBeans -->
    <target name="codegen" depends="prepare">
        <java classname="org.apache.axis2.wsdl.WSDL2Java" fork="true">
            <classpath refid="axis2.classpath"/>
            <arg value="-d"/>
            <arg value="xmlbeans"/>
            <arg value="-uri"/>
            <arg value="https://webservice.exacttarget.com/etframework.wsdl"/>
            <arg value="-p"/>
            <!--  <arg value="com.et.client"/>-->
        </java>

        <!-- Move classes and schema folder to build folder-->
        <move todir="${classes}">
            <fileset dir="${basedir}/resources">
                <include name="**/*schema*/**/*.class"/>
                <include name="**/*schema*/**/*.xsb"/>
            </fileset>
        </move>
    </target>

    <!--Complie stub (XMLBeans) Code generated by Axis2 libraries-->
    <target name="compile.axis2.generated.src" depends="prepare">  <!--depends="codegen"-->
        <javac debug="on" memoryMaximumSize="256m" memoryInitialSize="256m" fork="true" destdir="${classes}"
               srcdir="${src}" encoding="utf-8">
            <classpath refid="axis2.classpath"/>
        </javac>
        <copy toDir="${classes}" failonerror="false">
            <fileset dir="${src}">
                <include name="*.xml"/>
                <include name="*.properties"/>
            </fileset>
        </copy>
    </target>

    <!-- Compile Client Test files, This has to happen only after compiling Stubs classes -->
    <target name="compile.client.code" depends="compile.axis2.generated.src">
        <javac debug="on" memoryMaximumSize="256m" memoryInitialSize="256m" fork="true" destdir="${classes}"
               srcdir="${src}" encoding="utf-8">
            <classpath refid="axis2.client.classpath"/>
            <!-- Refer Stubs generated by Axis2 -->
            <classpath refid="axis2.classpath"/>
            <!-- Refer Axis2 libraries -->
        </javac>
        <copy toDir="${classes}" failonerror="false">     <!-- Copy compiled classes to Build/Classes folder -->
            <fileset dir="${src}">
                <include name="*.xml"/>
                <include name="*.properties"/>
            </fileset>
        </copy>
    </target>

    <!--Generate Jar file for Executing, Jar file will includes Classes folder and All Axis2 Libraries in Manifest file -->
    <target name="jar.client" depends="compile.client.code">
        <!--Copy all Axis2 jars to dist/Lib directory -->
        <copy toDir="${build}/lib" failonerror="false">
            <fileset dir="${axis2.lib.dir}">
                <include name="*.jar"/>
            </fileset>
        </copy>
        <!-- Generating Jar file from Libraries/classes and including jars file path in Manifest file -->
        <jar destfile="${build}/ETClient.jar">
            <fileset dir="${classes}"></fileset>
            <manifest>
                <attribute name="Main-Class" value="com.exacttarget.client.ETClient"/>
            </manifest>
        </jar>

        <delete dir="${classes}"/>
        <!-- Finally Delete classes folder -->
    </target>
</project>

        <!--Sample client Code in ETClient.java file -->
        <!--  public static void main(String args[])
        {
        org.apache.axis2.context.ConfigurationContext configurationContext = null;
        try
        {

            EndpointReference endPointReference = new EndpointReference("https://webservice.exacttarget.com/Service.asmx");
            configurationContext = ConfigurationContextFactory.createConfigurationContextFromFileSystem(PropertiesUtil.getInstance().getProperty("repositoryFolder"), PropertiesUtil.getInstance().getProperty("axis2File"));
            PartnerAPIStub stub = new PartnerAPIStub(configurationContext, "https://webservice.exacttarget.com/Service.asmx");
            ServiceClient serviceClient = stub._getServiceClient();
            Options options = new Options();
            options.setTo(endPointReference);
            serviceClient.setOptions(options);
            RetrieveRequestMsgDocument retrieveRequestMsgDocument = com.exacttarget.wsdl.partnerapi.RetrieveRequestMsgDocument.Factory.newInstance();
            RetrieveRequest rreq = com.exacttarget.wsdl.partnerapi.RetrieveRequest.Factory.newInstance();
            rreq.setObjectType("Email");
            String rreqProperties[] = {
                "ID" ,"Name","Subject","HTMLBody"
            };
            rreq.setPropertiesArray(rreqProperties);
            SimpleFilterPart sfp = com.exacttarget.wsdl.partnerapi.SimpleFilterPart.Factory.newInstance();
            sfp.setProperty("Name");
            sfp.setSimpleOperator(SimpleOperators.EQUALS);
            String sfpValues[] = {
                "Test"
            };
            sfp.setValueArray(sfpValues);
            rreq.setFilter(sfp);
            com.exacttarget.wsdl.partnerapi.RetrieveRequestMsgDocument.RetrieveRequestMsg retrieveRequestMsg = retrieveRequestMsgDocument.addNewRetrieveRequestMsg();
            retrieveRequestMsg.setRetrieveRequest(rreq);
            RetrieveResponseMsgDocument retrieveResponseMsgDocument = stub.retrieve(retrieveRequestMsgDocument);
            com.exacttarget.wsdl.partnerapi.RetrieveResponseMsgDocument.RetrieveResponseMsg retrieveResponseMsg = retrieveResponseMsgDocument.getRetrieveResponseMsg();
            System.out.println((new StringBuilder()).append("Response ::: ").append(retrieveResponseMsg.getOverallStatus()).toString());
            APIObject apiObject = retrieveResponseMsg.getResultsArray(0);
            Email email =(Email)apiObject;
            System.out.println("Subject ::: " + email.getHTMLBody());
            System.out.println((new StringBuilder()).append("Email  Id  ::: ").append(apiObject.getObjectID()).toString());
        }
        catch(RemoteException e)
        {
            e.printStackTrace();
        }
        catch(Exception e)
        {
            e.printStackTrace();
        }
    }
-->